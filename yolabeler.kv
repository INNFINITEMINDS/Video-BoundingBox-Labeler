#:import VideoPlayer kivy.uix.videoplayer
<YoVideoPlayer>
    BoxLayout:
        orientation:'vertical'
        Video:
            id: videoplayer
            size_hint: (1,.9)
            on_touch_down: root.VideoplayerTouchDown(args[1])
            on_touch_move: root.VideoplayerMove(args[1])
            on_touch_up: root.VideoplayerTouchUp(args[1])
        StackLayout:
            size_hint: (1,.1)
            Button:
                size_hint: (.1,1)
                text:'Load Movie'
                on_release: root.LoadMovie()
#                Image:
#                    source: './icons/if_media-eject_118785.png'
#                    size_hint:(None,None)
#                    center_x: self.parent.center_x
#                    center_y: self.parent.center_y
#                    width: self.parent.width
#                    height: self.parent.height
#                    allow_stretch: True
            Button:
                size_hint: (.1,1)
                text:'Stop'
                on_release: root.StopPressed()
            Button:
                id: playPauseButton
                size_hint: (.1,1)
                text:'Play'
                on_release: root.PlayPausePressed()

<YoLabelerScreen>:
    BoxLayout:
        orientation:'horizontal'
        YoVideoPlayer:
            size_hint: (.9,1)
            id: videoWidget
        StackLayout:
            id: rightControlPanel
            size_hint: (.1,1)
            Button:
                size_hint: (1,.1)
                text:'Settings'
                on_release: root.settings()
            Button:
                size_hint: (1,.1)
                text:'Save'
                on_release: videoWidget.save()
            Button:
                orientation: 'rl-tb'
                size_hint: (1,.1)
                text:'Delete Label'
                on_release: videoWidget.delete_label_clicked()
            Button:
                orientation: 'rl-tb'
                size_hint: (1,.1)
                text:'Clear Labels'
                on_release: videoWidget.clear_labels()
            ScrollView:
                size_hint: (1,.6)
                StackLayout:
                    id: BBStackLayout

<LoadDialog>:
    BoxLayout:
        size: root.size
        pos: root.pos
        orientation: "vertical"
        FileChooserListView:
            id: filechooser
            path: 'C:\\'
        BoxLayout:
            size_hint_y: None
            height: 30
            Button:
                text: "Cancel"
                on_release: root.cancel()
            Button:
                text: "Load"
                on_release: root.load(filechooser.path, filechooser.selection)

<LabelDialog>:
    BoxLayout:
        orientation:'vertical'
        width: root.width/2
        height: root.height
        pos: root.pos
        Label:
            size_hint: (1, .1)
            text: 'choose label for BB id:' + root.bb.labelId

        BoxLayout:
            size_hint: (1, .1)
            orientation:'horizontal'
            TextInput:
                id: labeltextinput
                size_hint: (.8, 1)
            Button:
                size_hint: (.2, 1)
                text: 'Add Label'
                on_release: root.add_label(labeltextinput.text)
        BoxLayout:
            orientation: "vertical"
            id: boxLayout
        BoxLayout:
            size_hint: (1, .1)
            size_hint_y: None
            height: 30
            Button:
                text: "Cancel"
                on_release: root.cancel()



<LabelDialogButtonsBox>:
    BoxLayout:
        orientation:'horizontal'
        Button:
            text: root.label
            size_hint_y:None
            on_release:root.assign(root.bb, self.text)
        Button:
            text: 'delete'
            size_hint_x: .1
            size_hint_y:None
            on_release:root.delete(root.label)

<YoBBWidget>
    canvas.before:
        Color:
            rgb: (self.groupColor[0], self.groupColor[1], self.groupColor[2])
        Line:
            points: self.linepoints
            width:3
            joint: 'round'
    Label:
        id: labelname
        text: '[size=24][color=' + root.bbColor + ']' +root.labelName + '[/color][/size]'
        markup:True
        halign: 'left'
        valign: 'bottom'
        size: self.texture_size
        padding: (10,10)
        pos: root.pos
    Label:
        id: labelid
        text: '[size=24][color=' + root.bbColor + ']' +root.labelId + '[/color][/size]'
        markup :True
        halign: 'left'
        valign: 'top'
        size: self.texture_size
        padding: (10,10)
        pos: (root.pos[0], root.pos[1]+root.height)

<LabelDropDown>:
#    canvas:
#        Rectangle:
#            pos: (root.pos[0],root.pos[1])
#            size:( root.pos[0]+root.size[0], root.pos[1]+root.size[1])
    width:200
    on_dismiss: root.dismissed()
    BoxLayout:
        id: labelDropDownBoxLayout
        height:50
        size_hint: (1, None)
        TextInput:
            id: labeltextinput
            size_hint: (.8, 1)
        Button:
            size_hint: (.2, 1)
            text: 'Add Label'
            on_release: root.add_label(labeltextinput.text)

<LabelDropDownButton>:
    size_hint_y:None
    height:50
    on_release:root.released(self.text)
